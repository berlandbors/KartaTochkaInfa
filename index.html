<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>–ö–∞—Ä—Ç–∞ –¢–æ—á–∫–∞ –ò–Ω—Ñ–∞ - –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <!-- –ú–æ–±–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–∞–±–æ–≤ -->
    <div id="mobileTabSwitcher" class="mobile-tab-switcher" style="display: none;">
        <button id="tabMap" class="tab-button active" data-tab="map">
            üó∫Ô∏è –ö–∞—ÄÔøΩÔøΩ–∞
        </button>
        <button id="tabInfo" class="tab-button" data-tab="info">
            üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        </button>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ -->
    <div id="mobileNotification" class="mobile-notification" style="display: none;">
        <div class="notification-content">
            <button class="notification-close" id="closeNotification">‚úï</button>
            <div class="notification-icon">üí°</div>
            <div class="notification-title">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –ª—É—á—à–µ–≥–æ –æ–ø—ã—Ç–∞</div>
            <div class="notification-text">
                –≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞:
                <ul>
                    <li>üíª –ö–æ–º–ø—å—é—Ç–µ—Ä–µ</li>
                    <li>üì± –ü–ª–∞–Ω—à–µ—Ç–µ</li>
                    <li>üîÑ –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ —ç–∫—Ä–∞–Ω–∞</li>
                </ul>
                –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å <strong>–ö–∞—Ä—Ç–∞/–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</strong> –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            </div>
            <label class="notification-checkbox">
                <input type="checkbox" id="dontShowAgain">
                –ë–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
            </label>
        </div>
    </div>

    <div class="container">
        <div class="map-container">
            <div class="scanline"></div>
            <div id="map"></div>
        </div>
        
        <div class="info-panel" id="info-panel">
            <div class="info-header">
                <h1>&gt;&gt;&gt; –ì–ï–û–õ–û–ö–ê–¶–ò–Ø &lt;&lt;&lt;</h1>
                <p>–ö–∞—Ä—Ç–∞ –¢–æ—á–∫–∞ –ò–Ω—Ñ–∞</p>
            </div>
            
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="[ –ü–û–ò–°–ö –ù–ê–°–ï–õ–Å–ù–ù–´–• –ü–£–ù–ö–¢–û–í ]">
                <div class="search-results" id="searchResults"></div>
            </div>

            <div class="controls">
                <button class="control-btn" onclick="getCurrentLocation()">[ üìç –ú–û–Ø –ì–ï–û–ü–û–ó–ò–¶–ò–Ø ]</button>
                <button class="control-btn" onclick="shareLocation()" id="shareBtn" disabled>[ üîó –ü–û–î–ï–õ–ò–¢–¨–°–Ø ]</button>
                <button class="control-btn" onclick="clearMarkers()">[ ‚úñ –û–ß–ò–°–¢–ò–¢–¨ –í–°–ï ]</button>
            </div>
            
            <div class="info-content" id="infoContent">
                <div class="no-selection">
                    ‚ñº –ö–õ–ò–ö–ù–ò–¢–ï –ù–ê –ö–ê–†–¢–£ ‚ñº<br><br>
                    [ –û–ñ–ò–î–ê–ù–ò–ï –ö–û–û–†–î–ò–ù–ê–¢... ]<br><br>
                    –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é<br>
                    –ª—é–±–æ–π —Ç–æ—á–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–µ
                </div>
            </div>
            
            <div class="timestamp" id="timestamp"></div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ -->
    <div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <button class="modal-close" onclick="closeModal()">&times;</button>
                <div class="modal-title" id="modalTitle">&gt;&gt;&gt; –î–ï–¢–ê–õ–¨–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø &lt;&lt;&lt;</div>
                <div class="modal-subtitle" id="modalSubtitle">–ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</div>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —à–∞—Ä–∏–Ω–≥–∞ -->
    <div class="modal-overlay" id="shareModal" onclick="closeShareModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()" style="max-width: 600px;">
            <div class="modal-header">
                <button class="modal-close" onclick="closeShareModal()">&times;</button>
                <div class="modal-title">&gt;&gt;&gt; –ü–û–î–ï–õ–ò–¢–¨–°–Ø –õ–û–ö–ê–¶–ò–ï–ô &lt;&lt;&lt;</div>
                <div class="modal-subtitle">–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö</div>
            </div>
            <div class="modal-body">
                <div class="share-info">
                    <div class="share-coords" id="shareCoords"></div>
                    <div class="share-link-container">
                        <input type="text" id="shareLinkInput" class="share-input" readonly>
                        <button class="share-copy-btn" onclick="copyShareLink()">
                            <span id="copyBtnText">üìã –ö–û–ü–ò–†–û–í–ê–¢–¨</span>
                        </button>
                    </div>
                    <div class="share-qr" id="shareQR"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script type="module" src="js/main.js"></script>
</body>
</html>